# Quickstart: Neural Network Visualiser

**Date**: 2025-12-09
**Feature**: 001-nn-visualisation

## Prerequisites

- Node.js 18+ and npm
- Modern browser (Chrome, Firefox, Safari, or Edge)

## Setup

```bash
# Clone the repository (if not already done)
git clone <repository-url>
cd neural-network-visualiser

# Install dependencies
npm install

# Start development server
npm run dev
```

The application will be available at `http://localhost:5173` (Vite default port).

## Development Commands

| Command | Description |
|---------|-------------|
| `npm run dev` | Start development server with hot reload |
| `npm run build` | Build production bundle to `dist/` |
| `npm run preview` | Preview production build locally |
| `npm run test` | Run unit tests with Vitest |
| `npm run test:watch` | Run tests in watch mode |
| `npm run lint` | Run ESLint on source files |
| `npm run typecheck` | Run TypeScript type checking |

## Project Structure

```
src/
├── network/           # Neural network logic (no DOM dependencies)
│   ├── neuron.ts      # Neuron class
│   ├── layer.ts       # Layer class
│   ├── network.ts     # Network orchestration
│   ├── training.ts    # Forward/backward propagation
│   └── types.ts       # TypeScript interfaces
├── visualisation/     # D3-based rendering
│   ├── renderer.ts    # Main SVG rendering
│   ├── animation.ts   # Weight/neuron animations
│   ├── tooltip.ts     # Hover tooltips
│   └── layout.ts      # Positioning calculations
├── controls/          # UI controls
│   ├── playback.ts    # Play/pause/step
│   ├── parameters.ts  # Learning rate slider
│   └── reset.ts       # Reset functionality
├── main.ts            # Entry point
├── styles.css         # Global styles
└── index.html         # HTML entry
```

## Making Changes

### Modifying the Neural Network

1. Network architecture is defined in `src/network/network.ts`
2. Default architecture: `[2, 2, 1]` (XOR problem)
3. To change layer sizes, modify the `architecture` array
4. Forward/backward propagation in `src/network/training.ts`

### Modifying the Visualisation

1. Layout calculations in `src/visualisation/layout.ts`
2. D3 rendering in `src/visualisation/renderer.ts`
3. Animations in `src/visualisation/animation.ts`
4. Weight encoding (thickness/color) configured in renderer

### Adding Controls

1. Create new control module in `src/controls/`
2. Register with main application in `src/main.ts`
3. Ensure keyboard accessibility (tabindex, key handlers)

## Testing

### Running Tests

```bash
# Run all tests once
npm run test

# Run tests in watch mode during development
npm run test:watch

# Run tests with coverage report
npm run test:coverage
```

### Test Organization

- `tests/unit/` - Unit tests for network logic (neuron, layer, network)
- `tests/integration/` - Tests for visualisation + interaction

### Writing Tests

```typescript
// Example: tests/unit/neuron.test.ts
import { describe, it, expect } from 'vitest';
import { createNeuron, sigmoid } from '../src/network/neuron';

describe('Neuron', () => {
  it('applies sigmoid activation correctly', () => {
    expect(sigmoid(0)).toBeCloseTo(0.5);
    expect(sigmoid(100)).toBeCloseTo(1);
    expect(sigmoid(-100)).toBeCloseTo(0);
  });
});
```

## Deployment to GitHub Pages

### Manual Deployment

```bash
# Build production bundle
npm run build

# The dist/ folder contains static files ready for deployment
# Upload contents of dist/ to GitHub Pages
```

### Automated Deployment (GitHub Actions)

Create `.github/workflows/deploy.yml`:

```yaml
name: Deploy to GitHub Pages
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - uses: actions/setup-node@v4
        with:
          node-version: '20'
      - run: npm ci
      - run: npm run build
      - uses: peaceiris/actions-gh-pages@v3
        with:
          github_token: ${{ secrets.GITHUB_TOKEN }}
          publish_dir: ./dist
```

## Troubleshooting

### Common Issues

**Development server won't start**
- Ensure Node.js 18+ is installed: `node --version`
- Clear node_modules and reinstall: `rm -rf node_modules && npm install`

**Tests failing after changes**
- Run `npm run typecheck` to catch type errors
- Check test output for specific assertions failing
- Use `npm run test:watch` for faster iteration

**Build produces large bundle**
- Check for unused imports
- Verify D3 tree-shaking is working (import specific modules)
- Run `npm run build -- --report` to analyze bundle

**Animations are stuttering**
- Check browser dev tools Performance tab
- Ensure animation callbacks use requestAnimationFrame
- Reduce number of animated elements if needed

## Next Steps

After setup, proceed to implementation following `tasks.md` (generated by
`/speckit.tasks` command).
